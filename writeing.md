# Deep Video Translation æŠ€è¡“æ–‡æª”

<p align="center">
  <img src="https://img.shields.io/badge/Version-1.0.0-blue.svg" alt="Version">
  <img src="https://img.shields.io/badge/Python-3.10+-green.svg" alt="Python">
  <img src="https://img.shields.io/badge/PyTorch-2.0+-red.svg" alt="PyTorch">
  <img src="https://img.shields.io/badge/License-Research-yellow.svg" alt="License">
</p>

---

## ğŸ“‘ ç›®éŒ„

- [åŠŸèƒ½ä»‹ç´¹](#åŠŸèƒ½ä»‹ç´¹)
- [ç³»çµ±æ¶æ§‹](#ç³»çµ±æ¶æ§‹)
- [æ“ä½œä»‹é¢](#æ“ä½œä»‹é¢)
- [è¦æ ¼èªªæ˜](#è¦æ ¼èªªæ˜)

---

## ğŸ¯ åŠŸèƒ½ä»‹ç´¹

### æ¦‚è¿°

Deep Video Translation æ˜¯ä¸€å€‹åŸºæ–¼æ·±åº¦å­¸ç¿’çš„è¦–é »ç¿»è­¯ç³»çµ±ï¼Œèƒ½å¤ å°‡è¦–é »å…§å®¹ç¿»è­¯æˆç›®æ¨™èªè¨€ï¼ŒåŒæ™‚ä¿æŒåŸèªªè©±äººçš„éŸ³è‰²ç‰¹å¾µï¼Œä¸¦ç¢ºä¿å”‡å½¢èˆ‡æ–°èªéŸ³å®Œç¾åŒæ­¥ã€‚

### æ ¸å¿ƒåŠŸèƒ½æ¨¡çµ„

#### 1. ğŸ™ï¸ èªéŸ³è­˜åˆ¥ï¼ˆASRï¼‰

**æŠ€è¡“**: Faster-Whisper  
**åŠŸèƒ½**:
- é«˜ç²¾åº¦å¤šèªè¨€èªéŸ³è½‰æ–‡å­—
- è‡ªå‹•æª¢æ¸¬èªè¨€
- æ™‚é–“è»¸æ¨™è¨˜ï¼ˆé€å¥çš„é–‹å§‹/çµæŸæ™‚é–“ï¼‰
- æ”¯æ´å¤§å‹èªéŸ³æ¨¡å‹ large-v3

**ç‰¹é»**:
- ä½¿ç”¨ CTranslate2 å„ªåŒ–å¼•æ“ï¼Œé€Ÿåº¦æå‡ 4-5 å€
- æ”¯æ´ float16/int8 é‡åŒ–ï¼Œé™ä½è¨˜æ†¶é«”ä½”ç”¨
- è‡ªå‹•é¸æ“‡æœ€ä½³è¨ˆç®—è¨­å‚™ï¼ˆCUDA/CPUï¼‰

#### 2. ğŸ§  æ™ºèƒ½ç¿»è­¯ï¼ˆLLMï¼‰

**æŠ€è¡“**: Gemini / OpenAI / Ollama  
**åŠŸèƒ½**:
- ä¿æŒèªå¢ƒçš„è‡ªç„¶èªè¨€ç¿»è­¯
- ä¿ç•™èªæ°£å’Œæƒ…æ„Ÿè‰²å½©
- å¤šèªè¨€æ”¯æ´ï¼ˆä¸­è‹±æ—¥éŸ“ç­‰ï¼‰

**æ”¯æ´çš„ LLM æä¾›å•†**:

| æä¾›å•† | æ¨¡å‹ | ç‰¹é» | API è¦æ±‚ |
|--------|------|------|----------|
| **Gemini** | gemini-1.5-pro-latest | é€Ÿåº¦å¿«ã€ç†è§£åŠ›å¼· | Google API Key |
| **OpenAI** | gpt-4/gpt-3.5-turbo | ç¿»è­¯å“è³ªé«˜ | OpenAI API Key |
| **Ollama** | llama2/mixtral | æœ¬åœ°éƒ¨ç½²ã€éš±ç§ä¿è­· | æœ¬åœ°ä¼ºæœå™¨ |

#### 3. ğŸ—£ï¸ èªéŸ³å…‹éš†ï¼ˆTTSï¼‰

**æŠ€è¡“**: F5-TTS (Flow Matching + Diffusion Transformer)  
**åŠŸèƒ½**:
- **é›¶æ¨£æœ¬èªéŸ³å…‹éš†**ï¼šåƒ…éœ€ 10 ç§’åƒè€ƒéŸ³é »
- **å¤šèªè¨€åˆæˆ**ï¼šæ”¯æ´ä¸­æ–‡ã€è‹±æ–‡ã€æ—¥æ–‡ç­‰
- **éŸ³è‰²ä¿çœŸ**ï¼šé«˜åº¦é‚„åŸåŸèªªè©±äººè²éŸ³
- **æƒ…æ„Ÿä¿ç•™**ï¼šç¶­æŒèªæ°£å’Œæƒ…æ„Ÿè¡¨é”

**æŠ€è¡“å„ªå‹¢**:
- åŸºæ–¼ Flow Matching æŠ€è¡“ï¼Œåˆæˆé€Ÿåº¦å¿«
- æ”¯æ´é•·æ–‡æœ¬åˆæˆï¼ˆç„¡é•·åº¦é™åˆ¶ï¼‰
- è‡ªå‹•éŸ»å¾‹æ§åˆ¶
- ä½è³‡æºæ¶ˆè€—ï¼ˆ8GB VRAM å¯é‹è¡Œï¼‰

**éŸ³é »è™•ç†ç‰¹æ€§**:
- **æ™‚é–“è»¸å°é½Š**ï¼šè‡ªå‹•æ‹‰ä¼¸/å£“ç¸®éŸ³é »ä»¥åŒ¹é…åŸè¦–é »é•·åº¦
- **ç„¡ææ‹‰ä¼¸**ï¼šä½¿ç”¨ pyrubberband ä¿æŒéŸ³é«˜ä¸è®Š
- **æ™ºèƒ½åˆ†æ®µ**ï¼šé•·æ–‡æœ¬è‡ªå‹•åˆ†æ®µè™•ç†

#### 4. ğŸ‘„ å”‡å½¢åŒæ­¥ï¼ˆLip-Syncï¼‰

**æŠ€è¡“**: Wav2Lip  
**åŠŸèƒ½**:
- **éŸ³é »é©…å‹•**ï¼šæ ¹æ“šæ–°èªéŸ³è‡ªå‹•èª¿æ•´å˜´å”‡å‹•ä½œ
- **ç²¾ç¢ºåŒæ­¥**ï¼šé€å¹€åŒ¹é…ï¼Œç„¡å»¶é²æ„Ÿ
- **ä¿æŒé¢éƒ¨**ï¼šé™¤å˜´å”‡å¤–å…¶ä»–é¢éƒ¨ç‰¹å¾µä¿æŒä¸è®Š
- **å¤šäººæª¢æ¸¬**ï¼šè‡ªå‹•è™•ç†å¤šäººå ´æ™¯

**æ¨¡å‹é¸æ“‡**:
- **wav2lip.pth**: åŸºç¤æ¨¡å‹ï¼Œå”‡å½¢ç²¾åº¦æœ€é«˜
- **wav2lip_gan.pth**: GAN å¢å¼·æ¨¡å‹ï¼Œè¦–è¦ºè³ªé‡æ›´ä½³ï¼ˆæ¨è–¦ï¼‰

**æŠ€è¡“ç´°ç¯€**:
- åŸºæ–¼ SyncNet çš„å”‡éŸ³åŒæ­¥æå¤±
- ä½¿ç”¨ face-alignment é€²è¡Œé¢éƒ¨æª¢æ¸¬
- æ”¯æ´å¯èª¿æ•´çš„é¢éƒ¨é‚Šç•Œæ¡† padding
- å¯é¸çš„è§£æåº¦ç¸®æ”¾ä»¥æå‡æ€§èƒ½

#### 5. ğŸ§¼ å­—å¹•ç§»é™¤ï¼ˆOCR + Inpaintï¼‰ã€å¯é¸ã€‘

**æŠ€è¡“**: EasyOCR + OpenCV  
**åŠŸèƒ½**:
- **å­—å¹•æª¢æ¸¬**ï¼šè‡ªå‹•è­˜åˆ¥è¦–é »ä¸­çš„æ–‡å­—å€åŸŸ
- **æ™ºèƒ½ä¿®å¾©**ï¼šä½¿ç”¨ä¿®å¾©ç®—æ³•ç§»é™¤å­—å¹•
- **å¤šèªè¨€æ”¯æ´**ï¼šä¸­æ–‡ã€è‹±æ–‡ã€æ—¥æ–‡ã€éŸ“æ–‡ç­‰

**è™•ç†æµç¨‹**:
```
åŸè¦–é »å¹€
  â†“
EasyOCR æª¢æ¸¬æ–‡å­—ä½ç½®
  â†“
ç”Ÿæˆæ–‡å­—é®ç½©ï¼ˆMaskï¼‰
  â†“
OpenCV Inpainting ä¿®å¾©
  â†“
ç„¡å­—å¹•è¦–é »å¹€
```

**Inpaint ç®—æ³•**:
- INPAINT_TELEAï¼šå¿«é€Ÿä¿®å¾©ï¼Œé©åˆç°¡å–®èƒŒæ™¯
- INPAINT_NSï¼šNavier-Stokes æ–¹æ³•ï¼Œæ•ˆæœæ›´è‡ªç„¶

---

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

### æ•´é«”æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ç”¨æˆ¶ç•Œé¢å±¤                                  â”‚
â”‚                    (Streamlit Web UI)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       æ‡‰ç”¨å±¤ (app.py)                            â”‚
â”‚  - æ–‡ä»¶ä¸Šå‚³è™•ç†                                                    â”‚
â”‚  - æµç¨‹ç·¨æ’                                                       â”‚
â”‚  - é€²åº¦é¡¯ç¤º                                                       â”‚
â”‚  - çµæœè¼¸å‡º                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                   â”‚                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ ¸å¿ƒæ¨¡çµ„å±¤   â”‚   â”‚   è™•ç†æ¨¡çµ„å±¤     â”‚   â”‚  å·¥å…·æ¨¡çµ„å±¤    â”‚
â”‚              â”‚   â”‚                  â”‚   â”‚               â”‚
â”‚ â€¢ config.py  â”‚   â”‚ â€¢ asr_llm.py    â”‚   â”‚ â€¢ logger.py   â”‚
â”‚ â€¢ device_    â”‚   â”‚   - ASRProcessor â”‚   â”‚ â€¢ device_     â”‚
â”‚   manager.py â”‚   â”‚   - LLMTranslatorâ”‚   â”‚   manager.py  â”‚
â”‚              â”‚   â”‚                  â”‚   â”‚               â”‚
â”‚              â”‚   â”‚ â€¢ audio_tts.py  â”‚   â”‚               â”‚
â”‚              â”‚   â”‚   - TTSProcessor â”‚   â”‚               â”‚
â”‚              â”‚   â”‚                  â”‚   â”‚               â”‚
â”‚              â”‚   â”‚ â€¢ visual_sync.pyâ”‚   â”‚               â”‚
â”‚              â”‚   â”‚   - VisualSync  â”‚   â”‚               â”‚
â”‚              â”‚   â”‚     Processor    â”‚   â”‚               â”‚
â”‚              â”‚   â”‚                  â”‚   â”‚               â”‚
â”‚              â”‚   â”‚ â€¢ ocr_inpaint.pyâ”‚   â”‚               â”‚
â”‚              â”‚   â”‚   - OCRInpaint  â”‚   â”‚               â”‚
â”‚              â”‚   â”‚     Processor    â”‚   â”‚               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                   â”‚                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI æ¨¡å‹å±¤    â”‚   â”‚   ç¬¬ä¸‰æ–¹åº«       â”‚   â”‚  ç³»çµ±è³‡æºå±¤   â”‚
â”‚              â”‚   â”‚                  â”‚   â”‚               â”‚
â”‚ â€¢ F5-TTS/    â”‚   â”‚ â€¢ OpenCV         â”‚   â”‚ â€¢ FFmpeg      â”‚
â”‚ â€¢ Wav2Lip/   â”‚   â”‚ â€¢ librosa        â”‚   â”‚ â€¢ CUDA/MPS    â”‚
â”‚ â€¢ Whisper    â”‚   â”‚ â€¢ EasyOCR        â”‚   â”‚ â€¢ CPU/Memory  â”‚
â”‚ â€¢ LLM APIs   â”‚   â”‚ â€¢ pydub          â”‚   â”‚               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•¸æ“šæµç¨‹

```
ç”¨æˆ¶ä¸Šå‚³è¦–é » (MP4/MOV/AVI)
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥é©Ÿ 1: èªéŸ³è­˜åˆ¥èˆ‡ç¿»è­¯                  â”‚
â”‚  - æå–éŸ³é »                             â”‚
â”‚  - Faster-Whisper ASR â†’ åŸæ–‡æœ¬        â”‚
â”‚  - LLM ç¿»è­¯ â†’ ç¿»è­¯æ–‡æœ¬                 â”‚
â”‚  - è¼¸å‡º: æ™‚é–“è»¸æ¨™è¨˜çš„ç¿»è­¯æ–‡æœ¬           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥é©Ÿ 2: èªéŸ³åˆæˆ                        â”‚
â”‚  - æå–å‰ 10 ç§’åƒè€ƒéŸ³é »                  â”‚
â”‚  - F5-TTS èªéŸ³å…‹éš†                      â”‚
â”‚  - éŸ³é »æ™‚é–“æ‹‰ä¼¸ï¼ˆå¯é¸ï¼‰                   â”‚
â”‚  - è¼¸å‡º: ç¿»è­¯å¾Œçš„éŸ³é »æ–‡ä»¶                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥é©Ÿ 3: å­—å¹•ç§»é™¤ï¼ˆå¯é¸ï¼‰                 â”‚
â”‚  - EasyOCR æª¢æ¸¬å­—å¹•                     â”‚
â”‚  - OpenCV Inpainting ä¿®å¾©               â”‚
â”‚  - è¼¸å‡º: ç„¡å­—å¹•è¦–é »                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥é©Ÿ 4: å”‡å½¢åŒæ­¥                        â”‚
â”‚  - Wav2Lip è™•ç†                        â”‚
â”‚  - é¢éƒ¨æª¢æ¸¬èˆ‡è¿½è¹¤                        â”‚
â”‚  - å”‡å½¢ç”Ÿæˆèˆ‡èåˆ                        â”‚
â”‚  - è¼¸å‡º: åŒæ­¥å¾Œè¦–é »                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥é©Ÿ 5: è¦–é »åˆæˆ                        â”‚
â”‚  - FFmpeg è¦–é »éŸ³é »åˆæˆ                  â”‚
â”‚  - æ ¼å¼è½‰æ›èˆ‡ç·¨ç¢¼                        â”‚
â”‚  - è¼¸å‡º: æœ€çµ‚ç¿»è­¯è¦–é »                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
         ä¸‹è¼‰/é è¦½
```

### æ ¸å¿ƒæ¨¡çµ„èªªæ˜

#### 1. Device Managerï¼ˆè¨­å‚™ç®¡ç†å™¨ï¼‰

**è·¯å¾‘**: `core/device_manager.py`

**è·è²¬**:
- è‡ªå‹•æª¢æ¸¬å¯ç”¨è¨ˆç®—è¨­å‚™ï¼ˆCUDA/MPS/CPUï¼‰
- å„ªåŒ–è¨˜æ†¶é«”åˆ†é…
- æ¨¡å‹åŠ è¼‰/å¸è¼‰ç®¡ç†
- å¿«å–æ¸…ç†

**é—œéµæ–¹æ³•**:
```python
def get_device() -> str:
    """è¿”å›: "cuda", "mps", æˆ– "cpu" """
    
def clear_cache():
    """æ¸…ç† GPU/CPU å¿«å–"""
    
def get_memory_info() -> dict:
    """è¿”å›è¨˜æ†¶é«”ä½¿ç”¨æƒ…æ³"""
```

#### 2. Configï¼ˆé…ç½®ç®¡ç†ï¼‰

**è·¯å¾‘**: `core/config.py`

**è·è²¬**:
- å®šç¾©å…¨å±€è·¯å¾‘
- æ¨¡å‹ç›®éŒ„é…ç½®
- è‡¨æ™‚æ–‡ä»¶ç®¡ç†

**é—œéµé…ç½®**:
```python
BASE_DIR = Path(__file__).resolve().parent.parent
F5_TTS_DIR = BASE_DIR / "F5-TTS"
WAV2LIP_DIR = BASE_DIR / "Wav2Lip"
MODELS_DIR_F5 = F5_TTS_DIR / "ckpts"
TEMP_DIR = BASE_DIR / "temp"
```

#### 3. Loggerï¼ˆæ—¥èªŒç³»çµ±ï¼‰

**è·¯å¾‘**: `core/logger.py`

**åŠŸèƒ½**:
- å¤šç´šåˆ¥æ—¥èªŒï¼ˆDEBUG/INFO/WARNING/ERRORï¼‰
- æ–‡ä»¶å’Œæ§åˆ¶å°è¼¸å‡º
- æ™‚é–“æˆ³è¨˜éŒ„
- æ€§èƒ½ç›£æ§

### è™•ç†æµç¨‹è©³è§£

#### ASR & LLM Pipeline

```python
# modules/asr_llm.py

class ASRLLMPipeline:
    def process(video_path, target_lang):
        # 1. æå–éŸ³é »
        audio = extract_audio(video_path)
        
        # 2. èªéŸ³è­˜åˆ¥
        asr = ASRProcessor(model_size="large-v3")
        segments = asr.transcribe(audio)
        # è¼¸å‡º: [
        #   {start: 0.0, end: 2.5, text: "Hello"},
        #   {start: 2.5, end: 5.0, text: "World"}
        # ]
        
        # 3. LLM ç¿»è­¯
        llm = LLMTranslator(provider="gemini")
        for seg in segments:
            seg["translation"] = llm.translate(
                seg["text"], 
                target_lang
            )
        
        return segments
```

#### TTS Pipeline

```python
# modules/audio_tts.py

class TTSProcessor:
    def generate_audio(text, ref_audio, output_path, 
                      ref_text="", target_duration=None):
        # 1. è¼‰å…¥ F5-TTS æ¨¡å‹
        model = F5TTS(device="cuda")
        
        # 2. èªéŸ³å…‹éš†ç”Ÿæˆ
        audio, sr = model.infer(
            gen_text=text,
            ref_audio=ref_audio,
            ref_text=ref_text
        )
        
        # 3. æ™‚é–“æ‹‰ä¼¸ï¼ˆå¦‚æœéœ€è¦ï¼‰
        if target_duration:
            audio = time_stretch(audio, target_duration)
        
        # 4. ä¿å­˜
        sf.write(output_path, audio, sr)
```

#### Visual Sync Pipeline

```python
# modules/visual_sync.py

class VisualSyncProcessor:
    def process_video(source_path, driving_audio_path, 
                     output_path):
        # 1. è¼‰å…¥ Wav2Lip æ¨¡å‹
        model = load_wav2lip_model()
        
        # 2. é¢éƒ¨æª¢æ¸¬
        faces = detect_faces(source_path)
        
        # 3. å”‡å½¢åŒæ­¥
        for frame, audio_chunk in zip(video, audio):
            synced_frame = model.infer(frame, audio_chunk)
            output.write(synced_frame)
        
        return output_path
```

---

## ğŸ’» æ“ä½œä»‹é¢

### Web UI ç•Œé¢ï¼ˆStreamlitï¼‰

#### ä¸»ç•Œé¢ä½ˆå±€

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ¥ Deep Video Translation                                â•‘
â•‘  AIé©…å‹•çš„é«˜ä¿çœŸè¦–é »ç¿»è­¯ç³»çµ±                                  â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                            â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚  âš™ï¸ é…ç½®         â”‚  â”‚  ğŸ“¤ ä¸Šå‚³è¦–é »                   â”‚  â•‘
â•‘  â”‚                 â”‚  â”‚                                â”‚  â•‘
â•‘  â”‚  LLM Provider:  â”‚  â”‚  [é¸æ“‡æ–‡ä»¶...]                  â”‚  â•‘
â•‘  â”‚  â—‹ Gemini      â”‚  â”‚                                â”‚  â•‘
â•‘  â”‚  â—‹ OpenAI      â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â•‘
â•‘  â”‚  â—‹ Ollama      â”‚  â”‚  â”‚  åŸå§‹è¦–é »                 â”‚  â”‚  â•‘
â•‘  â”‚                 â”‚  â”‚  â”‚  [è¦–é »é è¦½]               â”‚  â”‚  â•‘
â•‘  â”‚  API Key:       â”‚  â”‚  â”‚                          â”‚  â”‚  â•‘
â•‘  â”‚  [**********]   â”‚  â”‚  â”‚  ğŸ“¹ 5.2 MB | 15.3ç§’     â”‚  â”‚  â•‘
â•‘  â”‚                 â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â•‘
â•‘  â”‚  ç›®æ¨™èªè¨€:       â”‚  â”‚                                â”‚  â•‘
â•‘  â”‚  [ç¹é«”ä¸­æ–‡ â–¼]   â”‚  â”‚  [ğŸš€ é–‹å§‹ç¿»è­¯è™•ç†]             â”‚  â•‘
â•‘  â”‚                 â”‚  â”‚                                â”‚  â•‘
â•‘  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘  â”‚  é«˜ç´šé¸é …:       â”‚                                     â•‘
â•‘  â”‚  â˜‘ OCR/Inpaint â”‚                                     â•‘
â•‘  â”‚  â˜‘ æ™‚é–“æ‹‰ä¼¸     â”‚                                     â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

#### è™•ç†é€²åº¦é¡¯ç¤º

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è™•ç†ä¸­...                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  ğŸ™ï¸ æ­¥é©Ÿ 1/5: åˆå§‹åŒ– ASR & LLM...           âœ…      â”‚
â”‚  ğŸ“ è½‰éŒ„å’Œç¿»è­¯ä¸­...                          âœ…      â”‚
â”‚  ğŸ—£ï¸ æ­¥é©Ÿ 2/5: ç”ŸæˆèªéŸ³ (F5-TTS Voice Cloning)...   â”‚
â”‚     â”œâ”€ æå–åƒè€ƒéŸ³é »...                      âœ…      â”‚
â”‚     â”œâ”€ è¼‰å…¥ F5-TTS æ¨¡å‹...                  â³      â”‚
â”‚     â””â”€ ç”Ÿæˆç¿»è­¯èªéŸ³...                      â³      â”‚
â”‚  ğŸ§¼ æ­¥é©Ÿ 3/5: å­—å¹•ç§»é™¤ (å¯é¸)...            â¸ï¸      â”‚
â”‚  ğŸ‘„ æ­¥é©Ÿ 4/5: å”‡å½¢åŒæ­¥...                    â¸ï¸      â”‚
â”‚  ğŸ¬ æ­¥é©Ÿ 5/5: è¦–é »åˆæˆ...                    â¸ï¸      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### çµæœå±•ç¤º

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ“ è½‰éŒ„èˆ‡ç¿»è­¯çµæœ                                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚ åŸæ–‡ (å‰10ç§’ç”¨æ–¼èªéŸ³åƒè€ƒ)â”‚  â”‚ ç¿»è­¯æ–‡æœ¬              â”‚ â•‘
â•‘  â”‚                        â”‚  â”‚                      â”‚ â•‘
â•‘  â”‚ Hello everyone...      â”‚  â”‚ å¤§å®¶å¥½...            â”‚ â•‘
â•‘  â”‚ Today we will discuss  â”‚  â”‚ ä»Šå¤©æˆ‘å€‘å°‡è¨è«–...     â”‚ â•‘
â•‘  â”‚ the future of AI...    â”‚  â”‚ äººå·¥æ™ºæ…§çš„æœªä¾†...     â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  ğŸ”Š ç”Ÿæˆçš„ç¿»è­¯èªéŸ³                                      â•‘
â•‘  [éŸ³é »æ’­æ”¾å™¨] â–¶ï¸ â”â”â”â”â”â”â”â—â”â”â”â”â”â”â”â” 15.3s              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  ğŸ¬ æœ€çµ‚ç¿»è­¯è¦–é »                                        â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚  [è¦–é »é è¦½]                                     â”‚  â•‘
â•‘  â”‚  â–¶ï¸  æ’­æ”¾                                       â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘  [ğŸ“¥ ä¸‹è¼‰ç¿»è­¯è¦–é »]                                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### äº¤äº’æµç¨‹

#### 1. é…ç½®éšæ®µ

```mermaid
ç”¨æˆ¶æ“ä½œ                    ç³»çµ±éŸ¿æ‡‰
   â”‚                          â”‚
   â”œâ”€ é¸æ“‡ LLM Provider       â”‚
   â”‚  (Gemini/OpenAI/Ollama)  â”‚
   â”‚                          â”œâ”€ é¡¯ç¤ºå°æ‡‰é…ç½®é¸é …
   â”‚                          â”‚
   â”œâ”€ è¼¸å…¥ API Key            â”‚
   â”‚                          â”œâ”€ é©—è­‰ä¸¦ä¿å­˜åˆ°ç’°å¢ƒè®Šæ•¸
   â”‚                          â”‚
   â”œâ”€ é¸æ“‡ç›®æ¨™èªè¨€            â”‚
   â”‚                          â”œâ”€ æ›´æ–°ç¿»è­¯é…ç½®
   â”‚                          â”‚
   â””â”€ å‹¾é¸é«˜ç´šé¸é …            â”‚
      (OCR/æ™‚é–“æ‹‰ä¼¸)           â””â”€ æ›´æ–°è™•ç†æµç¨‹
```

#### 2. ä¸Šå‚³èˆ‡é è¦½

```mermaid
ç”¨æˆ¶æ“ä½œ                    ç³»çµ±éŸ¿æ‡‰
   â”‚                          â”‚
   â”œâ”€ é»æ“Šé¸æ“‡æ–‡ä»¶            â”‚
   â”‚                          â”œâ”€ æ‰“é–‹æ–‡ä»¶é¸æ“‡å™¨
   â”‚                          â”‚
   â”œâ”€ é¸æ“‡è¦–é »æ–‡ä»¶            â”‚
   â”‚  (MP4/MOV/AVI)           â”‚
   â”‚                          â”œâ”€ é©—è­‰æ–‡ä»¶æ ¼å¼
   â”‚                          â”œâ”€ ä¿å­˜åˆ°è‡¨æ™‚ç›®éŒ„
   â”‚                          â”œâ”€ æå–è¦–é »ä¿¡æ¯
   â”‚                          â”‚  (å¤§å°ã€æ™‚é•·ã€è§£æåº¦)
   â”‚                          â”‚
   â”‚                          â”œâ”€ é¡¯ç¤ºè¦–é »é è¦½
   â”‚                          â””â”€ é¡¯ç¤ºæ–‡ä»¶ä¿¡æ¯
```

#### 3. è™•ç†èˆ‡ç›£æ§

```mermaid
ç”¨æˆ¶æ“ä½œ                    ç³»çµ±éŸ¿æ‡‰
   â”‚                          â”‚
   â”œâ”€ é»æ“Šã€Œé–‹å§‹ç¿»è­¯è™•ç†ã€     â”‚
   â”‚                          â”‚
   â”‚                          â”œâ”€ é©—è­‰é…ç½®å®Œæ•´æ€§
   â”‚                          â”œâ”€ å‰µå»ºè™•ç†ç‹€æ…‹å®¹å™¨
   â”‚                          â”‚
   â”‚                          â”œâ”€ æ­¥é©Ÿ 1: ASR & LLM
   â”‚                          â”‚  â”œâ”€ æ›´æ–°é€²åº¦: 0% â†’ 20%
   â”‚                          â”‚  â”œâ”€ é¡¯ç¤ºè½‰éŒ„çµæœ
   â”‚                          â”‚  â””â”€ é¡¯ç¤ºç¿»è­¯çµæœ
   â”‚                          â”‚
   â”‚                          â”œâ”€ æ­¥é©Ÿ 2: TTS
   â”‚                          â”‚  â”œâ”€ æ›´æ–°é€²åº¦: 20% â†’ 40%
   â”‚                          â”‚  â””â”€ æä¾›éŸ³é »è©¦è½
   â”‚                          â”‚
   â”‚                          â”œâ”€ æ­¥é©Ÿ 3: OCR (å¯é¸)
   â”‚                          â”‚  â””â”€ æ›´æ–°é€²åº¦: 40% â†’ 60%
   â”‚                          â”‚
   â”‚                          â”œâ”€ æ­¥é©Ÿ 4: Lip-Sync
   â”‚                          â”‚  â””â”€ æ›´æ–°é€²åº¦: 60% â†’ 90%
   â”‚                          â”‚
   â”‚                          â””â”€ æ­¥é©Ÿ 5: åˆæˆ
   â”‚                             â”œâ”€ æ›´æ–°é€²åº¦: 90% â†’ 100%
   â”‚                             â”œâ”€ é¡¯ç¤ºæœ€çµ‚è¦–é »
   â”‚                             â””â”€ æä¾›ä¸‹è¼‰æŒ‰éˆ•
```

### å¿«æ·éµèˆ‡æ“ä½œæŠ€å·§

| æ“ä½œ | å¿«æ·éµ/æ–¹æ³• | èªªæ˜ |
|------|------------|------|
| å±•é–‹/æ”¶èµ·å´é‚Šæ¬„ | `Ctrl + /` | å¿«é€Ÿè¨ªå•é…ç½® |
| é‡æ–°é‹è¡Œæ‡‰ç”¨ | `Ctrl + R` | é‡ç½®æ‰€æœ‰ç‹€æ…‹ |
| æ¸…ç†å¿«å– | é»æ“Šå³ä¸Šè§’ `Â·Â·Â·` â†’ Clear Cache | é‡‹æ”¾è¨˜æ†¶é«” |
| ä¸‹è¼‰è¦–é » | å³éµè¦–é » â†’ å¦å­˜ç‚º | ä¿å­˜çµæœ |

---

## ğŸ“Š è¦æ ¼èªªæ˜

### ç³»çµ±éœ€æ±‚

#### ç¡¬é«”éœ€æ±‚

**æœ€ä½é…ç½®**:
- **CPU**: Intel i5 / AMD Ryzen 5 (4æ ¸å¿ƒä»¥ä¸Š)
- **è¨˜æ†¶é«”**: 16 GB RAM
- **å„²å­˜ç©ºé–“**: 20 GB å¯ç”¨ç©ºé–“
- **é¡¯å¡**: æ•´åˆé¡¯å¡ï¼ˆCPU æ¨¡å¼ï¼‰

**æ¨è–¦é…ç½®**:
- **CPU**: Intel i7 / AMD Ryzen 7 / Apple M1/M2/M3
- **è¨˜æ†¶é«”**: 24 GB RAMï¼ˆæ¨è–¦ 32 GBï¼‰
- **å„²å­˜ç©ºé–“**: 50 GB SSD
- **é¡¯å¡**: NVIDIA GPU (8GB+ VRAM) æˆ– Apple M ç³»åˆ—

**æœ€ä½³é…ç½®**:
- **CPU**: Intel i9 / AMD Ryzen 9 / Apple M4 Pro/Max
- **è¨˜æ†¶é«”**: 32+ GB RAM
- **å„²å­˜ç©ºé–“**: 100 GB NVMe SSD
- **é¡¯å¡**: NVIDIA RTX 3090/4090 (24GB VRAM)

#### è»Ÿé«”éœ€æ±‚

**ä½œæ¥­ç³»çµ±**:
- macOS 12.0+ (Monterey åŠä»¥ä¸Š)
- Ubuntu 20.04+ / Debian 11+
- Windows 10/11 (64-bit)

**é‹è¡Œç’°å¢ƒ**:
- Python 3.10 / 3.11
- PyTorch 2.0+
- CUDA 11.8+ (NVIDIA GPU)
- FFmpeg 4.4+

### æŠ€è¡“è¦æ ¼

#### æ”¯æ´æ ¼å¼

**è¼¸å…¥æ ¼å¼**:
| é¡å‹ | æ ¼å¼ | èªªæ˜ |
|------|------|------|
| è¦–é » | MP4, MOV, AVI, MKV | å¸¸è¦‹è¦–é »æ ¼å¼ |
| è§£æåº¦ | 480p - 4K | æ¨è–¦ 1080p |
| å¹€ç‡ | 24-60 fps | æ¨è–¦ 30fps |
| ç·¨ç¢¼ | H.264, H.265 | H.264 ç›¸å®¹æ€§æœ€ä½³ |

**è¼¸å‡ºæ ¼å¼**:
- è¦–é »: MP4 (H.264 ç·¨ç¢¼)
- éŸ³é »: WAV/MP3 (44.1kHz, 16-bit)
- è§£æåº¦: èˆ‡è¼¸å…¥ç›¸åŒ
- å¹€ç‡: èˆ‡è¼¸å…¥ç›¸åŒ

#### æ¨¡å‹è¦æ ¼

**Faster-Whisper (ASR)**:
| æ¨¡å‹ | åƒæ•¸é‡ | VRAM | é€Ÿåº¦ | æº–ç¢ºåº¦ |
|------|--------|------|------|--------|
| tiny | 39M | ~1GB | æœ€å¿« | â˜…â˜…â˜†â˜†â˜† |
| base | 74M | ~1GB | å¿« | â˜…â˜…â˜…â˜†â˜† |
| small | 244M | ~2GB | ä¸­ç­‰ | â˜…â˜…â˜…â˜…â˜† |
| medium | 769M | ~5GB | æ…¢ | â˜…â˜…â˜…â˜…â˜… |
| large-v3 | 1550M | ~10GB | æœ€æ…¢ | â˜…â˜…â˜…â˜…â˜… |

**F5-TTS (èªéŸ³åˆæˆ)**:
| æ¨¡å‹ | åƒæ•¸é‡ | VRAM | åˆæˆé€Ÿåº¦ | éŸ³è³ª |
|------|--------|------|----------|------|
| F5TTS_v1_Base | ~100M | ~4GB | ~0.15x å¯¦æ™‚ | â˜…â˜…â˜…â˜…â˜… |

- æ”¯æ´é›¶æ¨£æœ¬å…‹éš†ï¼ˆç„¡éœ€è¨“ç·´ï¼‰
- åƒè€ƒéŸ³é »éœ€æ±‚: 3-30 ç§’
- æœ€å¤§ç”Ÿæˆé•·åº¦: ç„¡é™åˆ¶
- æ”¯æ´èªè¨€: ä¸­è‹±æ—¥éŸ“ç­‰

**Wav2Lip**:
| æ¨¡å‹ | å¤§å° | VRAM | è™•ç†é€Ÿåº¦ | è³ªé‡ |
|------|------|------|----------|------|
| wav2lip.pth | 148 MB | ~2GB | ~30fps | é«˜ç²¾åº¦ |
| wav2lip_gan.pth | 148 MB | ~2GB | ~30fps | é«˜è³ªé‡ |

- è¼¸å…¥è§£æåº¦: 96x96 (é¢éƒ¨)
- è¼¸å‡ºè§£æåº¦: èˆ‡è¼¸å…¥ç›¸åŒ
- æ”¯æ´æ‰¹æ¬¡å¤§å°: å¯é…ç½®

**EasyOCR**:
- æ”¯æ´ 80+ èªè¨€
- æ¨¡å‹è‡ªå‹•ä¸‹è¼‰ (~500MB)
- CPU/GPU é›™æ¨¡å¼

### æ€§èƒ½æŒ‡æ¨™

#### è™•ç†é€Ÿåº¦ï¼ˆåƒè€ƒï¼‰

**æ¸¬è©¦ç’°å¢ƒ**: Mac M4 Pro (24GB RAM)

| è¦–é »é•·åº¦ | ASR | TTS | Lip-Sync | OCR | ç¸½æ™‚é–“ |
|---------|-----|-----|----------|-----|--------|
| 30ç§’ | ~30s | ~45s | ~60s | ~20s | ~2.5åˆ†é˜ |
| 1åˆ†é˜ | ~50s | ~70s | ~120s | ~30s | ~4.5åˆ†é˜ |
| 5åˆ†é˜ | ~3min | ~5min | ~8min | ~2min | ~18åˆ†é˜ |

**åŠ é€Ÿæ¯”**ï¼ˆç›¸å°æ–¼ CPUï¼‰:

| ç¡¬é«” | ASR | TTS | Lip-Sync | ç¸½é«” |
|------|-----|-----|----------|------|
| CPU (Intel i7) | 1.0x | 1.0x | 1.0x | 1.0x |
| NVIDIA RTX 3090 | 4.5x | 8.0x | 6.0x | 6.0x |
| Apple M4 Pro | 2.5x | 4.0x | 3.5x | 3.5x |

#### è³‡æºæ¶ˆè€—

**è¨˜æ†¶é«”ä½¿ç”¨** (1080p è¦–é »):
```
åŸºç¤è¨˜æ†¶é«”: ~2GB
+ ASR (large-v3): ~6GB
+ F5-TTS: ~4GB
+ Wav2Lip: ~3GB
+ EasyOCR: ~2GB
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å³°å€¼ç¸½è¨ˆ: ~12-15GB
```

**GPU VRAM ä½¿ç”¨**:
```
ASR (large-v3): ~5GB
TTS (F5-TTS): ~3GB
Lip-Sync (Wav2Lip): ~2GB
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å³°å€¼: ~5GB (å‹•æ…‹åŠ è¼‰)
```

**å„²å­˜ç©ºé–“**:
```
ç¨‹å¼ç¢¼: ~100MB
æ¨¡å‹æ–‡ä»¶:
  â”œâ”€ F5-TTS: ~2GB
  â”œâ”€ Wav2Lip: ~300MB
  â”œâ”€ Whisper: ~3GB
  â””â”€ EasyOCR: ~500MB
è‡¨æ™‚æ–‡ä»¶ (æ¯å€‹è¦–é »): ~1-5GB
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ç¸½è¨ˆ: ~10-20GB
```

### API èˆ‡ä¾è³´

#### Python å¥—ä»¶

**æ ¸å¿ƒä¾è³´**:
```
torch>=2.0.0
torchaudio>=2.0.0
torchvision>=2.0.0
transformers>=4.30.0
numpy<2.0
```

**éŸ³é »è™•ç†**:
```
librosa>=0.9.0,<0.11.0
soundfile>=0.12.0
pydub>=0.25.0
pyrubberband
audiotsm
```

**è¦–è¦ºè™•ç†**:
```
opencv-python>=4.8.0
pillow>=10.0.0
imageio>=2.31.0
easyocr>=1.7.0
face-alignment>=1.3.5
```

**Web æ¡†æ¶**:
```
streamlit==1.30.0
gradio>=5.0.0
```

**AI æ¨¡å‹**:
```
faster-whisper>=0.10.0
google-generativeai
openai>=1.0.0
```

#### å¤–éƒ¨ä¾è³´

**FFmpeg**:
```bash
# macOS
brew install ffmpeg

# Ubuntu/Debian
sudo apt-get install ffmpeg

# Windows
# å¾ https://ffmpeg.org/download.html ä¸‹è¼‰
```

**Rubberband** (éŸ³é »æ™‚é–“æ‹‰ä¼¸):
```bash
# macOS
brew install rubberband

# Ubuntu/Debian
sudo apt-get install rubberband-cli
```

### é™åˆ¶èˆ‡æ³¨æ„äº‹é …

#### åŠŸèƒ½é™åˆ¶

| é …ç›® | é™åˆ¶ | èªªæ˜ |
|------|------|------|
| è¦–é »é•·åº¦ | ç„¡ç¡¬é™åˆ¶ | é•·è¦–é »éœ€è¦æ›´å¤šæ™‚é–“å’Œè¨˜æ†¶é«” |
| è§£æåº¦ | æœ€é«˜ 4K | æ›´é«˜è§£æåº¦å¯èƒ½å°è‡´ OOM |
| æª”æ¡ˆå¤§å° | å»ºè­° < 500MB | å¤§æ–‡ä»¶è™•ç†è¼ƒæ…¢ |
| åŒæ™‚è™•ç† | 1å€‹ | é¿å…è¨˜æ†¶é«”ä¸è¶³ |
| é¢éƒ¨æ•¸é‡ | 1äººç‚ºä¸» | å¤šäººå ´æ™¯å¯èƒ½ä¸ç©©å®š |
| èªè¨€æ”¯æ´ | ä¸­è‹±æ—¥éŸ“ç­‰ | ä¾è³´æ¨¡å‹è¨“ç·´æ•¸æ“š |

#### ä½¿ç”¨é™åˆ¶

**Wav2Lip æˆæ¬Šé™åˆ¶**:
âš ï¸ **åš´æ ¼ç¦æ­¢å•†æ¥­ç”¨é€”** - Wav2Lip åƒ…ä¾›ç ”ç©¶å’Œå€‹äººä½¿ç”¨

**LLM API é™åˆ¶**:
- **Gemini**: æ¯åˆ†é˜ 60 è«‹æ±‚
- **OpenAI**: ä¾æ“šè¨‚é–±æ–¹æ¡ˆ
- **Ollama**: æœ¬åœ°ç„¡é™åˆ¶

**æ¨¡å‹ä¸‹è¼‰**:
- é¦–æ¬¡é‹è¡Œéœ€ä¸‹è¼‰ 5-6GB æ¨¡å‹
- éœ€è¦ç©©å®šç¶²çµ¡é€£æ¥
- å»ºè­°ä½¿ç”¨ HuggingFace é¡åƒï¼ˆä¸­åœ‹å¤§é™¸ï¼‰

#### å·²çŸ¥å•é¡Œ

1. **Mac M ç³»åˆ—æ™¶ç‰‡**:
   - torchcodec ä¸ç›¸å®¹ï¼ˆå·²ç¦ç”¨ï¼‰
   - éƒ¨åˆ†æ¨¡å‹åƒ…æ”¯æ´ CPU æ¨¡å¼
   - MPS æ”¯æ´æœ‰é™

2. **è¨˜æ†¶é«”ç®¡ç†**:
   - é•·è¦–é »å¯èƒ½å°è‡´è¨˜æ†¶é«”ä¸è¶³
   - å»ºè­°å•Ÿç”¨å‹•æ…‹æ¨¡å‹åŠ è¼‰
   - è™•ç†å®Œæˆå¾Œè‡ªå‹•æ¸…ç†å¿«å–

3. **å”‡å½¢åŒæ­¥**:
   - å´è‡‰æˆ–èƒŒé¢æ•ˆæœä¸ä½³
   - é®æ“‹ç‰©æœƒå½±éŸ¿æº–ç¢ºåº¦
   - ä½è§£æåº¦è¦–é »è³ªé‡ä¸‹é™

### é…ç½®å»ºè­°

#### è¨˜æ†¶é«”å„ªåŒ–

**ä½è¨˜æ†¶é«”æ¨¡å¼** (16GB RAM):
```python
# core/config.py
WHISPER_MODEL_SIZE = "medium"  # ä½¿ç”¨è¼ƒå°æ¨¡å‹
BATCH_SIZE = 8                 # æ¸›å°‘æ‰¹æ¬¡å¤§å°
ENABLE_MODEL_OFFLOAD = True    # å•Ÿç”¨å‹•æ…‹å¸è¼‰
```

**æ¨™æº–æ¨¡å¼** (24GB+ RAM):
```python
WHISPER_MODEL_SIZE = "large-v3"
BATCH_SIZE = 16
ENABLE_MODEL_OFFLOAD = False
```

#### é€Ÿåº¦å„ªåŒ–

**å¿«é€Ÿæ¨¡å¼** (çŠ§ç‰²å°‘è¨±è³ªé‡):
```python
WHISPER_MODEL_SIZE = "medium"
WAV2LIP_MODEL = "wav2lip.pth"  # ä¸ä½¿ç”¨ GAN
RESIZE_FACTOR = 2              # é™ä½è§£æåº¦
ENABLE_OCR = False             # ç¦ç”¨ OCR
```

**é«˜è³ªé‡æ¨¡å¼** (è¼ƒæ…¢):
```python
WHISPER_MODEL_SIZE = "large-v3"
WAV2LIP_MODEL = "wav2lip_gan.pth"
RESIZE_FACTOR = 1
ENABLE_OCR = True
```

---

## ğŸ“ˆ ç‰ˆæœ¬æ­·å²

### v1.0.0 (2025-12-26)

**æ–°åŠŸèƒ½**:
- âœ… å®Œæ•´çš„è¦–é »ç¿»è­¯æµç¨‹
- âœ… F5-TTS èªéŸ³å…‹éš†
- âœ… Wav2Lip å”‡å½¢åŒæ­¥
- âœ… EasyOCR å­—å¹•ç§»é™¤
- âœ… å¤š LLM æ”¯æ´
- âœ… Streamlit Web UI
- âœ… éŸ³é »æ™‚é–“æ‹‰ä¼¸

**ä¿®å¾©**:
- âœ… Mac M4 Pro ç›¸å®¹æ€§
- âœ… TorchCodec å•é¡Œ
- âœ… è¨˜æ†¶é«”æ´©æ¼
- âœ… æ™‚é–“è»¸å°é½Š

---

## ğŸ”— ç›¸é—œè³‡æº

### å®˜æ–¹æ–‡æª”
- [F5-TTS GitHub](https://github.com/SWivid/F5-TTS)
- [Wav2Lip GitHub](https://github.com/Rudrabha/Wav2Lip)
- [Faster-Whisper GitHub](https://github.com/guillaumekln/faster-whisper)
- [EasyOCR GitHub](https://github.com/JaidedAI/EasyOCR)

### å­¸è¡“è«–æ–‡
- F5-TTS: [arXiv:2410.06885](https://arxiv.org/abs/2410.06885)
- Wav2Lip: [ACM MM 2020](https://arxiv.org/abs/2008.10010)
- Whisper: [OpenAI Blog](https://openai.com/research/whisper)

### ç¤¾ç¾¤æ”¯æ´
- GitHub Issues
- æŠ€è¡“è¨è«–å€
- Email: [å°ˆæ¡ˆç¶­è­·è€…]

---

## ğŸ“„ æˆæ¬Šèªªæ˜

**æœ¬å°ˆæ¡ˆ**:
- åƒ…ä¾›ç ”ç©¶å’Œå€‹äººä½¿ç”¨
- ç¦æ­¢å•†æ¥­ç”¨é€”

**ç¬¬ä¸‰æ–¹å…ƒä»¶**:
- **Wav2Lip**: éå•†æ¥­æˆæ¬Š
- **F5-TTS**: MIT License
- **Faster-Whisper**: MIT License
- **EasyOCR**: Apache 2.0

---

## ğŸ‘¨â€ğŸ’» é–‹ç™¼èˆ‡è²¢ç»

### é–‹ç™¼ç’°å¢ƒè¨­ç½®

```bash
# 1. Clone å°ˆæ¡ˆ
git clone https://github.com/your-repo/Deep-Video-TranslationDocker.git
cd Deep-Video-TranslationDocker

# 2. å‰µå»ºè™›æ“¬ç’°å¢ƒ
python3 -m venv venv
source venv/bin/activate

# 3. å®‰è£ä¾è³´
pip install -r requirements.txt

# 4. é‹è¡Œæ¸¬è©¦
python -m pytest tests/

# 5. å•Ÿå‹•é–‹ç™¼æœå‹™å™¨
streamlit run app.py --server.port 8501
```

### å°ˆæ¡ˆçµæ§‹

```
Deep-Video-TranslationDocker/
â”œâ”€â”€ app.py                 # ä¸»æ‡‰ç”¨å…¥å£
â”œâ”€â”€ requirements.txt       # Python ä¾è³´
â”œâ”€â”€ Dockerfile            # Docker é…ç½®
â”œâ”€â”€ core/                 # æ ¸å¿ƒæ¨¡çµ„
â”‚   â”œâ”€â”€ config.py
â”‚   â”œâ”€â”€ device_manager.py
â”‚   â””â”€â”€ logger.py
â”œâ”€â”€ modules/              # è™•ç†æ¨¡çµ„
â”‚   â”œâ”€â”€ asr_llm.py
â”‚   â”œâ”€â”€ audio_tts.py
â”‚   â”œâ”€â”€ visual_sync.py
â”‚   â””â”€â”€ ocr_inpaint.py
â”œâ”€â”€ F5-TTS/              # F5-TTS å­æ¨¡çµ„
â”œâ”€â”€ Wav2Lip/             # Wav2Lip å­æ¨¡çµ„
â”œâ”€â”€ tests/               # æ¸¬è©¦æ–‡ä»¶
â””â”€â”€ temp/                # è‡¨æ™‚æ–‡ä»¶ç›®éŒ„
```

---

**æ–‡æª”ç‰ˆæœ¬**: v1.0.0  
**æœ€å¾Œæ›´æ–°**: 2025å¹´12æœˆ26æ—¥  
**ç¶­è­·è€…**: Deep Video Translation Team
